(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23139152"],{2355:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"cart"},[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"bg-light pt-5 pb-7"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-md-6 bg-white py-5",staticStyle:{"min-height":"calc(100vh - 56px - 76px)"}},[t._m(0),t._l(t.cart,(function(a){return i("div",{key:a.id,staticClass:"d-flex mt-4 bg-light"},[i("div",{staticStyle:{width:"120px",height:"120px"}},[i("img",{staticStyle:{width:"120px",height:"100%","object-fit":"cover"},attrs:{src:a.product.imageUrl[0],alt:""}})]),i("div",{staticClass:"w-100 p-3 position-relative"},[i("a",{staticClass:"position-absolute",staticStyle:{top:"16px",right:"16px"},attrs:{href:"#"},on:{click:function(i){return t.removeCartItem(a.product.id)}}},[i("i",{staticClass:"fas fa-times"})]),i("p",{staticClass:"mb-0 font-weight-bold"},[t._v(t._s(a.product.title))]),i("p",{staticClass:"mb-1 text-muted",staticStyle:{"font-size":"14px"}},[t._v(t._s(a.product.category))]),i("div",{staticClass:"d-flex justify-content-between align-items-center w-100"},[i("div",{staticClass:"input-group w-50 align-items-center bg-transparent"},[i("div",{staticClass:"input-group-prepend pr-1"},[i("a",{attrs:{href:"#",disabled:1===a.quantity},on:{click:function(i){return i.preventDefault(),t.quantityUpdata(a.product.id,a.quantity-1)}}},[i("i",{staticClass:"fas fa-minus"})])]),i("input",{staticClass:"form-control border-0 text-center my-auto shadow-none bg-light px-0",attrs:{type:"text",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},domProps:{value:a.quantity},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.quantityUpdata(a.product.id,i.target.value)}}}),i("div",{staticClass:"input-group-append pl-1"},[i("a",{attrs:{href:"#"},on:{click:function(i){return t.quantityUpdata(a.product.id,a.quantity+1)}}},[i("i",{staticClass:"fas fa-plus"})])])]),i("p",{staticClass:"mb-0 ml-auto"},[t._v("NT$"+t._s(a.product.price))])])])])})),t._m(1),i("div",{staticClass:"d-flex justify-content-between mt-4"},[i("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("總計")]),i("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("NT$"+t._s(t.cartTotal))])]),i("a",{staticClass:"btn btn-dark btn-block mt-4 rounded-0 py-3",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goCheckOut()}}},[t._v("結帳")])],2)])])])],1)},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"d-flex justify-content-between"},[i("h2",{staticClass:"mt-2"},[t._v("購物車")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("table",{staticClass:"table mt-4 text-muted"},[i("tbody")])}],n=(i("99af"),i("4160"),i("159b"),{name:"Cart",data:function(){return{cart:{},cartTotal:0,coupon:{},isLoading:!1,coupon_code:"",uuid:"69d7fd56-1f0f-42c9-b209-51c359d76a0b"}},created:function(){this.getCart()},methods:{getCart:function(){var t=this;this.cartTotal=0,this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","/api/").concat(this.uuid,"/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.cart.forEach((function(a){t.cartTotal+=a.product.price*a.quantity})),t.isLoading=!1}))},quantityUpdata:function(t,a){var i=this;if(!(a<=0)){this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/","/api/").concat(this.uuid,"/ec/shopping"),s={product:t,quantity:a};this.$http.patch(e,s).then((function(){i.isLoading=!1,i.getCart()}))}},removeCartItem:function(t){var a=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/","/api/").concat(this.uuid,"/ec/shopping/").concat(t);this.$http.delete(i).then((function(){a.$bus.$emit("message:push","刪除成功","success"),a.isLoading=!1,a.getCart(),a.$bus.$emit("get-cart")}))},goCheckOut:function(){this.$router.push("/checkout")}}}),c=n,o=(i("ed1e"),i("2877")),r=Object(o["a"])(c,e,s,!1,null,null,null);a["default"]=r.exports},6971:function(t,a,i){},ed1e:function(t,a,i){"use strict";var e=i("6971"),s=i.n(e);s.a}}]);
//# sourceMappingURL=chunk-23139152.a4a63c79.js.map