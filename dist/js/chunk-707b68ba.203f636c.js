(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-707b68ba"],{4510:function(t,a,s){"use strict";var e=s("55f0"),o=s.n(e);o.a},"55f0":function(t,a,s){},aa92:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v(" 請先登入 ")]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}})]),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" 登入 ")]),s("br"),s("button",{staticClass:"btn btn-outline-primary btn-block",attrs:{type:"button"},on:{click:t.signout}},[t._v(" 登出 ")]),s("br"),s("button",{staticClass:"btn btn-outline-primary btn-block",attrs:{type:"button"},on:{click:t.getData}},[t._v(" 取得資料 ")]),s("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v(" © 2020~∞ - 六角學院 ")])])])},o=[],n=(s("99af"),s("ac1f"),s("5319"),{name:"Login",data:function(){return{user:{email:"",password:""},token:""}},methods:{signin:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/","api/auth/login");this.$http.post(a,this.user).then((function(a){var s=a.data.token,e=a.data.expired;document.cookie="hexToken=".concat(s,";expires=").concat(new Date(1e3*e),";"),t.$router.push("/admin/products")})).catch((function(t){console.log(t)}))},signout:function(){document.cookie="hexToken=;expires=;",console.log("token 已清除")},getData:function(){var t=this;this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("69d7fd56-1f0f-42c9-b209-51c359d76a0b","/admin/ec/products");this.$http.defaults.headers.common.Authorization="Bearer ".concat(this.token),this.$http.get(a).then((function(a){t.products=a.data.data,t.pagination=a.data.meta.pagination}))}}}),i=n,r=(s("4510"),s("2877")),c=Object(r["a"])(i,e,o,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-707b68ba.203f636c.js.map