(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d5c99"],{"707a":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"CheckoutComplete"},[a("div",{staticClass:"container"},[a("div",{staticStyle:{"min-height":"400px","background-image":"url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80)","background-position":"center center"}}),a("div",{staticClass:"mt-5 mb-7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h2",[t._v("結帳完成")]),a("p",[t._v("感謝您的消費，訂單預計會在3天內受理，若有任何問題請洽詢客服人員")]),a("a",{staticClass:"btn btn-outline-dark mr-2 rounded-0 mb-4",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.goPage()}}},[t._v("繼續購物")])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card rounded-0 py-4"},[t._m(0),a("div",{staticClass:"card-body px-4 py-0"},[a("ul",{staticClass:"list-group list-group-flush"},[t._l(t.order.products,(function(s,e){return a("li",{key:e,staticClass:"list-group-item px-0"},[a("div",{staticClass:"d-flex mt-2"},[a("img",{staticClass:"mr-2",staticStyle:{width:"60px",height:"60px","object-fit":"cover"},attrs:{src:s.product.imageUrl[0],alt:""}}),a("div",{staticClass:"w-100 d-flex flex-column"},[a("div",{staticClass:"d-flex justify-content-between font-weight-bold"},[a("h5",[t._v(t._s(s.product.title))]),a("p",{staticClass:"mb-0"},[t._v("x"+t._s(s.quantity))])]),a("div",{staticClass:"d-flex justify-content-between mt-auto"},[a("p",{staticClass:"text-muted mb-0"},[a("small",[t._v("NT$"+t._s(s.product.origin_price))])]),a("p",{staticClass:"mb-0"},[t._v("NT$"+t._s(s.product.price))])])])])])})),a("li",{staticClass:"list-group-item px-0 pb-0"},[a("table",{staticClass:"table text-muted"},[a("tbody",[a("tr",[a("th",{staticClass:"border-0 px-0 font-weight-normal",attrs:{scope:"row"}},[t._v("小計")]),a("td",{staticClass:"text-right border-0 px-0"},[t._v("NT$"+t._s(t.subTotal))])]),a("tr",[a("th",{staticClass:"border-0 px-0 pt-0 font-weight-normal",attrs:{scope:"row"}},[t._v("折扣金額")]),a("td",{staticClass:"text-right border-0 px-0 pt-0 "},[t._v("NT$"+t._s(t._f("round")(t.subTotal-t.order.amount)))])]),t._m(1)])]),a("div",{staticClass:"d-flex justify-content-between mt-2"},[a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("訂單金額")]),a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("NT$"+t._s(t._f("round")(t.order.amount)))])])])],2)])])])])])])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"card-header border-bottom-0 bg-white px-4 py-0"},[a("h2",[t._v("訂單內容")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("th",{staticClass:"border-0 px-0 pt-0 font-weight-normal",attrs:{scope:"row"}},[t._v("付款方式")]),a("td",{staticClass:"text-right border-0 px-0 pt-0"},[t._v("ApplePay")])])}],r=(a("99af"),a("4160"),a("159b"),{name:"CheckoutComplete",data:function(){return{order:{user:{}},orders:[],orderId:"",uuid:"69d7fd56-1f0f-42c9-b209-51c359d76a0b",isLoading:!1,subTotal:0}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.$route.params),this.orderId&&this.getDetailed(this.orderId)},methods:{getDetailed:function(t){var s=this;this.isLoading=!0,this.orderId=t;var a="".concat("https://course-ec-api.hexschool.io/","/api/").concat(this.uuid,"/ec/orders/").concat(t);this.$http.get(a).then((function(t){s.order=t.data.data,s.isLoading=!1,s.order.products.forEach((function(t){s.subTotal+=t.product.price*t.quantity}))}))},payOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/","/api/").concat(this.uuid,"/ec/orders/").concat(this.orderId,"/paying");this.$http.post(s).then((function(s){s.data.data.paid&&t.getDetailed(t.orderId),t.isLoading=!1}))},goPage:function(){this.$router.push("/products")}}}),o=r,c=a("2877"),d=Object(c["a"])(o,e,i,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d5c99.2cac2ef1.js.map