{"version":3,"sources":["webpack:///./src/views/frontend/CheckoutComplete.vue?1f03","webpack:///src/views/frontend/CheckoutComplete.vue","webpack:///./src/views/frontend/CheckoutComplete.vue?16d2","webpack:///./src/views/frontend/CheckoutComplete.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","on","$event","preventDefault","goPage","_m","_l","order","item","key","product","imageUrl","_s","title","quantity","origin_price","price","subTotal","_f","amount","staticRenderFns","name","data","user","orders","orderId","uuid","isLoading","created","$route","params","console","log","getDetailed","methods","id","$http","get","url","then","payOrder","post","response","paid","$router","push","component"],"mappings":"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","file":"js/chunk-2d0d5c99.a7812ef7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"CheckoutComplete\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticStyle:{\"min-height\":\"400px\",\"background-image\":\"url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80)\",\"background-position\":\"center center\"}}),_c('div',{staticClass:\"mt-5 mb-7\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('h2',[_vm._v(\"結帳完成\")]),_c('p',[_vm._v(\"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea\")]),_c('a',{staticClass:\"btn btn-outline-dark mr-2 rounded-0 mb-4\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage()}}},[_vm._v(\"繼續購物\")])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"card rounded-0 py-4\"},[_vm._m(0),_c('div',{staticClass:\"card-body px-4 py-0\"},[_c('ul',{staticClass:\"list-group list-group-flush\"},[_vm._l((_vm.order.products),function(item,key){return _c('li',{key:key,staticClass:\"list-group-item px-0\"},[_c('div',{staticClass:\"d-flex mt-2\"},[_c('img',{staticClass:\"mr-2\",staticStyle:{\"width\":\"60px\",\"height\":\"60px\",\"object-fit\":\"cover\"},attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}}),_c('div',{staticClass:\"w-100 d-flex flex-column\"},[_c('div',{staticClass:\"d-flex justify-content-between font-weight-bold\"},[_c('h5',[_vm._v(_vm._s(item.product.title))]),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"x\"+_vm._s(item.quantity))])]),_c('div',{staticClass:\"d-flex justify-content-between mt-auto\"},[_c('p',{staticClass:\"text-muted mb-0\"},[_c('small',[_vm._v(\"NT$\"+_vm._s(item.product.origin_price))])]),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"NT$\"+_vm._s(item.product.price))])])])])])}),_c('li',{staticClass:\"list-group-item px-0 pb-0\"},[_c('table',{staticClass:\"table text-muted\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"border-0 px-0 font-weight-normal\",attrs:{\"scope\":\"row\"}},[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right border-0 px-0\"},[_vm._v(\"NT$\"+_vm._s(_vm.subTotal))])]),_c('tr',[_c('th',{staticClass:\"border-0 px-0 pt-0 font-weight-normal\",attrs:{\"scope\":\"row\"}},[_vm._v(\"折扣金額\")]),_c('td',{staticClass:\"text-right border-0 px-0 pt-0 \"},[_vm._v(\"NT$\"+_vm._s(_vm._f(\"round\")(_vm.subTotal - _vm.order.amount)))])]),_vm._m(1)])]),_c('div',{staticClass:\"d-flex justify-content-between mt-2\"},[_c('p',{staticClass:\"mb-0 h4 font-weight-bold\"},[_vm._v(\"訂單金額\")]),_c('p',{staticClass:\"mb-0 h4 font-weight-bold\"},[_vm._v(\"NT$\"+_vm._s(_vm._f(\"round\")(_vm.order.amount)))])])])],2)])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header border-bottom-0 bg-white px-4 py-0\"},[_c('h2',[_vm._v(\"訂單內容\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{staticClass:\"border-0 px-0 pt-0 font-weight-normal\",attrs:{\"scope\":\"row\"}},[_vm._v(\"付款方式\")]),_c('td',{staticClass:\"text-right border-0 px-0 pt-0\"},[_vm._v(\"ApplePay\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"CheckoutComplete\">\r\n      <div class=\"container\">\r\n      <div style=\"min-height: 400px; background-image: url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80);\r\n      background-position: center center;\">\r\n      </div>\r\n      <div class=\"mt-5 mb-7\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <h2>結帳完成</h2>\r\n            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea</p>\r\n            <a href=\"#\"  @click.prevent=\"goPage()\" class=\"btn btn-outline-dark mr-2 rounded-0 mb-4\">繼續購物</a>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div class=\"card rounded-0 py-4\">\r\n              <div class=\"card-header border-bottom-0 bg-white px-4 py-0\">\r\n                <h2>訂單內容</h2>\r\n              </div>\r\n              <div class=\"card-body px-4 py-0\">\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li class=\"list-group-item px-0\"\r\n                    v-for=\"(item, key) in order.products\" :key=\"key\">\r\n                    <div class=\"d-flex mt-2\">\r\n                      <img :src=item.product.imageUrl[0] alt=\"\" class=\"mr-2\" style=\"width: 60px; height: 60px; object-fit: cover\">\r\n                      <div class=\"w-100 d-flex flex-column\">\r\n                        <div class=\"d-flex justify-content-between font-weight-bold\">\r\n                          <h5>{{ item.product.title }}</h5>\r\n                          <p class=\"mb-0\">x{{ item.quantity }}</p>\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-between mt-auto\">\r\n                          <p class=\"text-muted mb-0\"><small>NT${{ item.product.origin_price}}</small></p>\r\n                          <p class=\"mb-0\">NT${{ item.product.price}}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  <li class=\"list-group-item px-0 pb-0\">\r\n                    <table class=\"table text-muted\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <th scope=\"row\" class=\"border-0 px-0 font-weight-normal\">小計</th>\r\n                          <td class=\"text-right border-0 px-0\">NT${{ subTotal }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th scope=\"row\" class=\"border-0 px-0 pt-0 font-weight-normal\">折扣金額</th>\r\n                          <td class=\"text-right border-0 px-0 pt-0 \">NT${{ subTotal -  order.amount | round }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th scope=\"row\" class=\"border-0 px-0 pt-0 font-weight-normal\">付款方式</th>\r\n                          <td class=\"text-right border-0 px-0 pt-0\">ApplePay</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <div class=\"d-flex justify-content-between mt-2\">\r\n                      <p class=\"mb-0 h4 font-weight-bold\">訂單金額</p>\r\n                      <p class=\"mb-0 h4 font-weight-bold\">NT${{ order.amount | round}}</p>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CheckoutComplete',\r\n  data () {\r\n    return {\r\n      order: {\r\n        user: {}\r\n      },\r\n      orders: [],\r\n      orderId: '',\r\n      uuid: process.env.VUE_APP_UUID,\r\n      isLoading: false,\r\n      subTotal: 0\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    console.log(this.$route.params)\r\n\r\n    if (this.orderId) {\r\n      this.getDetailed(this.orderId)\r\n    }\r\n  },\r\n  methods: {\r\n    getDetailed (id) {\r\n      this.isLoading = true\r\n      this.orderId = id\r\n\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${this.uuid}/ec/orders/${id}`\r\n\r\n      this.$http.get(url).then((response) => {\r\n        this.order = response.data.data\r\n        // console.log(this.order)\r\n        this.isLoading = false\r\n        this.order.products.forEach((item) => {\r\n          this.subTotal += item.product.price * item.quantity\r\n          // this.cartTotal += item.product.price * item.quantity\r\n        })\r\n      })\r\n    },\r\n    payOrder () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${this.uuid}/ec/orders/${this.orderId}/paying`\r\n\r\n      this.$http.post(url).then((response) => {\r\n        if (response.data.data.paid) {\r\n          this.getDetailed(this.orderId)\r\n        }\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    goPage () {\r\n      // console.log(this.$router)\r\n      this.$router.push('/')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckoutComplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckoutComplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckoutComplete.vue?vue&type=template&id=cb92019c&\"\nimport script from \"./CheckoutComplete.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckoutComplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}